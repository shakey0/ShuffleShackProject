{% extends 'layout.html' %}
{% block content %}
<div class="properties-container">
    {% for property, room in properties_and_rooms %}
    <div class="property-box">
        <div class="property-image">
            <img class="image-tag" src="{{ url_for('static', filename='uploads/' + property.display_image_url) }}" alt="picture">
        </div>
        <div class="property-info">
            <div>
                <h3 style="padding-top: 2px; cursor: pointer;">{{ property.name }}</h3>
            </div>
            <div>
                <p style="padding-top: 2px;"><i>{{ property.city }}, {{ property.country }}</i></p>
            </div>
            <div>
                <p style="padding-top: 2px; font-size: 0.9em;">{{ description_limiter(property.description) }}</p>
            </div>
            <div style="margin-top: 4px; border-top: 1px solid #000000; height: 66px">
                {% if in_search %}<i>
                    {% if room.total_space == 'Exact' %}
                        <p style="padding-top: 4px; font-size: 0.9em;">{{ room_name_checker(room.name) }} with {% for bed in format_beds(room.beds.items()) %}{{ bed }}{% if not loop.last %}, {% endif %}{% endfor %}</p>
                    {% elif room.total_space == 'More' %}
                        <p style="padding-top: 4px; font-size: 0.9em;">{{ room_name_checker(room.name) }} with {% for bed in format_beds(room.beds.items()) %}{{ bed }}{% if not loop.last %}, {% endif %}{% endfor %}</p>
                    {% elif room.total_space == 'Less' %}
                        <p style="padding-top: 4px; font-size: 0.9em;">{{ room_name_checker(room.name) }} with {% for bed in format_beds(room.beds.items()) %}{{ bed }}{% if not loop.last %}, {% endif %}{% endfor %}, and extra space available (see 'Extras' for the room)</p>
                    {% endif %}</i>
                {% endif %}
                <p style="padding-top: 2px;"><b>From Â£{{ format_price(room.price) }} per night</b></p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}